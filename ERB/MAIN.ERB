@MAIN_UI
    SELECTCASE STR:GAMESTAGE
        CASE "DEBUG"
            CALL UI_DEBUG
        CASE "SLG"
            CALL UI_SLG
        CASE "ROUGE"
            SELECTCASE STR:GAMEMODE
                ;探索周围/爬塔
                CASE "EXPLORE"
                    CALL UI_EXPLORE
                ;CASE "DUNGEON"
            ENDSELECT
        CASE "BATTLE"
            CALL UI_BATTLE
        CASE "ROUGE_PRE"
            CALL UI_ROUGE_PRE
    ENDSELECT
    INPUT
    CALL MAIN_INPUT

@MAIN_INPUT
    SELECTCASE STR:GAMESTAGE
        CASE "DEBUG"
            CALL INPUT_DEBUG
        CASE "SLG"
            CALL INPUT_SLG
        CASE "ROUGE"
            CALL INPUT_ROUGE
        CASE "BATTLE"
            CALL INPUT_BATTLE
        CASE "ROUGE_PRE"
            CALL INPUT_ROUGE_PRE
    ENDSELECT
    CALL MAIN_CHECK
    

@MAIN_CHECK
    SELECTCASE STR:GAMESTAGE
        CASE "SLG"
            CALL CHECK_SLG
        CASE "ROUGE"
            CALL CHECK_ROUGE
        CASE "BATTLE"
            CALL CHECK_BATTLE
        CASE "ROUGE_PRE"
            CALL CHECK_ROUGE_PRE
    ENDSELECT
    CALL MAIN_UI