@UI_EXPLORE
    CALL TITLE_BAR("探索中")
    CALL PRINT_PINK_FOG
    CALL UI_EXPLORE_STAGE
    CALL UI_EXPLORE_ROOM
    CALL UI_EXPLORE_DESCRIPTION
    CALL UI_EXPLORE_BUTTON
    CALL UI_EXPLORE_EVENT_RESULT
    CALL PRINT_LINE(5)

@UI_EXPLORE_STAGE
    #DIM LCOUNT
    #DIMS location
    location = %TOSTR(FLAG:章节)% - %TOSTR(FLAG:节点)%
    ALIGNMENT CENTER
    PRINTFORM %LEN_STR(location, 8)%
    CALL PRINT_LINE(2)
    FOR LCOUNT, 1, FLAG:目标节点 + 1
        location = %TOSTR(FLAG:章节)% - %TOSTR(LCOUNT)%
        IF LCOUNT == FLAG:节点
            CALL PRINT_BUTTON_SELECTED(location, 8)
        ELSEIF LCOUNT < FLAG:节点
            CALL PRINT_BUTTON_CANCELLED(location, 8)
        ELSE
            PRINTFORM [%LEN_STR(location, 8)%]
        ENDIF
    NEXT
    CALL PRINT_LINE(2)
    CUSTOMDRAWLINE -
    ALIGNMENT LEFT

@UI_EXPLORE_ROOM
    #DIM LCOUNT
    FOR LCOUNT, 1, 4
        IF FLAG:房间选择 == 0
            PRINTBUTTON @"[%EXPLORE_ROOM_OBJ:LCOUNT:INDEX_EXPLORE("类型")%]%EXPLORE_ROOM_OBJ:LCOUNT:INDEX_EXPLORE("引述")%", LCOUNT
        ELSE
            IF LCOUNT == FLAG:房间选择
                CALL SET_COLOR("黄")
                PRINTPLAINFORM [%EXPLORE_ROOM_OBJ:LCOUNT:INDEX_EXPLORE("类型")%]%EXPLORE_ROOM_OBJ:LCOUNT:INDEX_EXPLORE("引述")%
                RESETCOLOR
            ELSE
                CALL SET_COLOR("灰")
                PRINTPLAINFORM [%EXPLORE_ROOM_OBJ:LCOUNT:INDEX_EXPLORE("类型")%]%EXPLORE_ROOM_OBJ:LCOUNT:INDEX_EXPLORE("引述")%
                RESETCOLOR
            ENDIF
        ENDIF
        PRINTL
    NEXT

@UI_EXPLORE_BUTTON
    #DIM LCOUNT
    FOR LCOUNT, 1, 6
        IF FLAG:选项选择 == 0
            PRINTBUTTON @"%EXPLORE_ROOM_BUTTON:LCOUNT%" , 10 + LCOUNT
        ELSE 
            IF LCOUNT == FLAG:选项选择
                CALL SET_COLOR("黄")
                PRINTPLAINFORM %EXPLORE_ROOM_BUTTON:LCOUNT%
                RESETCOLOR
            ELSE
                CALL SET_COLOR("灰")
                PRINTPLAINFORM %EXPLORE_ROOM_BUTTON:LCOUNT%
                RESETCOLOR
            ENDIF
        ENDIF
        PRINTL
    NEXT


@UI_EXPLORE_DESCRIPTION
    #DIM LCOUNT
    FOR LCOUNT, 1, 6
        PRINTFORM %EXPLORE_ROOM_DESCRIPTION:LCOUNT%
        PRINTL
    NEXT

@UI_EXPLORE_EVENT_RESULT
    #DIM LCOUNT
    FOR LCOUNT, 1, 6
        PRINTFORM %EXPLORE_ROOM_EVENT_RESULT:LCOUNT%
        PRINTL
    NEXT